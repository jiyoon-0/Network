## CCNP(S) 3-4일차

STP(Spanning Tree Protocol)
링크 이중화로 발생할 수 있는 문제를 해결하고자 사용하는 프로토콜  
루핑 돌지 않는 구조로 만드는 역할  
루트 브릿지를 선정, 루트 포트 선정하여 루핑 구조를 회피  
루트 브릿지 선출
1. 브릿지 ID
- 우선순위 + MAC (낮은 것이 우선순위가 높음)
2. 데지그네이트 포트
- 루트 브릿지까지 가는 최소 cost 가진 스위치 포트

루트 포트 선정
- 루트 브릿지까지 최소 cost 가진 포트
- 샌더의 브릿지 값이 낮은 스위치
- 샌더 포트가 낮은 포트


##CCNP(S) 5일차
VLAN 
- 구분, 보안, 유연성
- 서로 다른 VLAN이 통신할 때는 Trunk 라인이 필요
- ACcess Port는 자신 VLAN만 전송 가능
- 트렁킹 방식 2가지
- 801.1q(4바이트 태그를 삽입해서 사용), ISL(Cisco, 앞 26바이트 4바이트 구조로 삽입)
- L2 스위치에서는 전자를 기본적으로 사용하고 있음

Native VLAN(tag 정보를 가지고 있지 않은 프레임을 전달하고자 할 때 사용)
- 801.1q 사용할 때 Native VLAN 사용
- PC에서 프레임을 만들어서 전송 -> 스위치 도달 전에는 VLAN 관련된 정보가 없음 -> 인터페이스에 적용된 VLAN 정보에 따라
- 태그가 붙는 것 -> tag를 붙이지 않고 사용하고 싶을 때 Native VLAN 사용
- 언제 사용? Tag 관리를 하는 스위치는 상관 없지만 허브는 tag 달린 프레임은 에러라고 생각함(출발지에서부터 tag가 없어야함)
- 보안 취약점? Tag가 없는 프레임을 만들어서 전송하는 취약점 발생할 수 있음

